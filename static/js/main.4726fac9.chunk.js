(this["webpackJsonpbrain-dumpster"]=this["webpackJsonpbrain-dumpster"]||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),l=a(46),i=(a(96),a(134)),u=a(12),s=a(68),m=a.n(s),d=a(74),p=a.n(d),h=a(73),f=a.n(h),g=a(139),E=a(140),b=a(141),v=a(142),x=a(43),w=a(143),O=a(69),y=a.n(O).a.createInstance({name:"brain-dumpster"}),j=a(52),C=a(53),S=["January","February","March","April","May","June","July","August","September","October","November","December"],N=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function I(){var e=(new Date).toLocaleString("en-US",{timeZone:"Asia/Jakarta"});return new Date(e)}function k(e,t){return e.toDateString()===t.toDateString()}function D(e){if(!e)return"";var t=N[e.getDay()],a=e.getDate(),n=S[e.getMonth()],r=e.getFullYear();return"".concat(t,", ").concat(a," ").concat(n," ").concat(r)}function T(e,t){var a=function(e,t,a){var n=Math.abs(t-e)/1e3,r={},c={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1},o={};return a?a.forEach((function(e){o[e]=c[e]})):o=Object(C.a)({},c),Object.keys(o).forEach((function(e){r[e]=Math.floor(n/o[e]),n-=r[e]*o[e]})),r}(e,t,["hour","minute","second"]),n=function(e){return e>1?"s":""},r=a.hour,c=a.minute,o=a.second,l=["".concat(r," hour").concat(n(r)),"".concat(c," minute").concat(n(c)),"".concat(o," second").concat(n(o))];return a.hour||(l.shift(),a.minute||l.shift()),l.join(" ")}var B=a(156),W=Object(i.a)((function(){return{textArea:{marginTop:"16px"}}})),M=function(e){var t=e.text,a=e.setText,c=e.loading,o=W(),l=Object(n.useState)(""),i=Object(u.a)(l,2),s=i[0],m=i[1];return r.a.createElement(B.a,{className:o.textArea,multiline:!0,variant:"outlined",rows:"20",fullWidth:!0,value:t,onChange:function(e){var t=e.target.value||"";t.length<=5e4?(a(t),m("")):m("Your writing appetite is extraordinary today! unfortunately you reached the input limit :(")},disabled:c,helperText:s,error:Boolean(s)})},J=Object(i.a)((function(e){return{root:{height:"calc(100vh - 64px)","@media (max-width: 600px)":{height:"calc(100vh - 56px)"},display:"flex",flexDirection:"column"},container:{height:"calc(100vh - (64px + 3.5rem))","@media (max-width: 600px)":{height:"calc(100vh - (56px + 3.5rem))"},padding:"2rem 1rem 3rem",overflowY:"auto"},footer:{width:"100%",padding:"12px 12px",backgroundColor:"lightblue",boxSizing:"border-box",height:"3.5rem",display:"flex",alignItems:"center"},progressWrapper:{width:"100%",display:"flex",alignItems:"center"},loading:{display:"relative",top:-2},progress:{height:"20px",marginRight:"12px",flex:6},count:{flex:1,display:"flex",alignItems:"center"},progressIcon:{marginLeft:"8px"},infoRoot:{maxWidth:"615px",marginBottom:"16px",backgroundColor:e.palette.info.main},refreshIcon:{color:"white"}}})),R=function(){var e=J(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],o=a[1],l=m()((function(e){var t=e.id,a=e.content,n=e.date,r=e.wordCount,c=e.finishedDate;if(t){var o=c;!o&&r>=750&&(o=I()),y.setItem("trash/".concat(t),{content:a,date:n,wordCount:r,finishedDate:o})}}),500),i=Object(n.useState)(),s=Object(u.a)(i,2),d=s[0],h=s[1],O=Object(n.useState)(),C=Object(u.a)(O,2),S=C[0],N=C[1],T=Object(n.useState)(),B=Object(u.a)(T,2),W=B[0],R=B[1];Object(n.useEffect)((function(){o(!0);var e=I();y.getItem("inProgress").then((function(t){var a,n;!t||t&&!k(t.date,e)?a=function(){var e=I(),t=e.toDateString()+100*Math.random();return y.setItem("inProgress",{id:t,date:e}),y.setItem("trash/".concat(t),{content:"",date:e,wordCount:0}),y.getItem("dumpster").then((function(e){var a=e||[];-1===a.indexOf(t)&&y.setItem("dumpster",[].concat(Object(j.a)(a),[t]))})),{id:t,date:e}}():(a={id:t.id,date:t.date},n=t.id,y.getItem("trash/".concat(n)).then((function(e){H(e.content),$(e.wordCount),h(e.finishedDate)}))),N(a.id),R(a.date),o(!1)}))}),[]);var A=Object(n.useState)(!1),P=Object(u.a)(A,2),F=P[0],G=P[1];Object(n.useEffect)((function(){var e=setInterval((function(){W&&!k(W,I())&&G(!0)}),3e4);return function(){clearInterval(e)}}),[W]);var Y=Object(n.useState)(""),z=Object(u.a)(Y,2),L=z[0],H=z[1],K=Object(n.useState)(0),U=Object(u.a)(K,2),Z=U[0],$=U[1];Object(n.useEffect)((function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.trim();return t?e.trim().split(/\s+/).length:0}(L);$(e),l({id:S,content:L,date:W,finishedDate:d,wordCount:e})}),[L,l,S,W,d]);var q=Object(n.useState)(0),Q=Object(u.a)(q,2),V=Q[0],X=Q[1];return Object(n.useEffect)((function(){var e=Math.floor(Z/750*100);X(e<100?e:100)}),[Z]),r.a.createElement("div",{className:e.root},r.a.createElement(g.a,{className:e.container},r.a.createElement(E.a,{in:F},r.a.createElement(b.a,{classes:{root:e.infoRoot},message:"This writing is from the past. Refresh this page to save it and start a new writing for today.",action:r.a.createElement(v.a,{edge:"start","aria-label":"Refresh Page",title:"Refresh Page",onClick:function(){return window.location.reload(),!1},classes:{colorPrimary:e.refreshIcon},color:"primary"},r.a.createElement(f.a,null))})),r.a.createElement(x.a,{variant:"h5"},D(W)),r.a.createElement(M,{text:L,setText:H,loading:c}),c&&r.a.createElement(w.a,{variant:"indeterminate",className:e.loading})),r.a.createElement("div",{className:e.footer},r.a.createElement("div",{className:e.progressWrapper},r.a.createElement(w.a,{className:e.progress,variant:"determinate",value:V}),r.a.createElement("div",{className:e.count},r.a.createElement("div",null,Z," words"),100===V&&r.a.createElement(p.a,{color:"primary",className:e.progressIcon})))))},A=a(28),P=a(147),F=a(148),G=a(149),Y=a(150),z=a(144),L=a(145),H=a(146),K=a(76),U=a.n(K),Z=a(75),$=a.n(Z),q=Object(i.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500],"@media (max-width: 600px)":{display:"none"}},dialogTitle:{borderBottom:"2px solid lightgrey",display:"flex",alignItems:"center","& > button":{marginRight:"4px"}},dialogContent:{whiteSpace:"pre-wrap"}}})),Q=function(e){var t=e.selectedTrash,a=e.setSelectedTrash,n=q();return r.a.createElement(z.a,{open:Boolean(t),fullScreen:!0,onClose:function(){return a(null)}},r.a.createElement(L.a,{disableTypography:!0},r.a.createElement(x.a,{variant:"h6",className:n.dialogTitle,component:"div"},r.a.createElement(v.a,{"aria-label":"close",onClick:function(){return a(null)}},r.a.createElement($.a,null)),r.a.createElement("div",null,t&&D(t.date))),r.a.createElement(v.a,{"aria-label":"close",className:n.closeButton,onClick:function(){return a(null)}},r.a.createElement(U.a,null))),r.a.createElement(H.a,null,r.a.createElement(g.a,null,r.a.createElement("div",{className:n.dialogContent},t?t.content:""))))},V=Object(i.a)((function(e){return{root:{height:"calc(100vh - 64px)","@media (max-width: 600px)":{height:"calc(100vh - 56px)"},overflow:"hidden"},title:{borderBottom:"2px solid lightgrey",marginTop:"18px",paddingBottom:"6px",width:"100%"},cardsContainer:{display:"flex",flexWrap:"wrap",marginTop:"6px"},card:{flex:"0 1 30%",margin:"16px 8px",minWidth:"272px",display:"flex",flexDirection:"column",justifyContent:"space-between"},pagination:{display:"flex",alignItems:"center",marginTop:"8px"}}})),X=function(){var e=V(),t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)([]),i=Object(u.a)(l,2),s=i[0],m=i[1];Object(n.useEffect)((function(){y.getItem("dumpster").then((function(e){o(Object(j.a)(e))}))}),[]);var d=Math.ceil(c.length/10),p=Object(n.useState)(1),h=Object(u.a)(p,2),f=h[0],E=h[1],b=Object(n.useCallback)((function(){var e=10*(f-1),t=10*f,a=c.slice(e,t).map((function(e){return y.getItem("trash/".concat(e))}));Promise.all(a).then((function(e){m(e)}))}),[c,f]);Object(n.useEffect)((function(){b()}),[b,f]);var v=Object(n.useState)(null),w=Object(u.a)(v,2),O=w[0],S=w[1];return r.a.createElement("div",{className:e.root},r.a.createElement(Q,{selectedTrash:O,setSelectedTrash:S}),r.a.createElement(g.a,null,r.a.createElement(x.a,{variant:"h4",className:e.title},"Archive"),r.a.createElement("div",{className:e.cardsContainer},s.map((function(t){var a=t&&D(t.date);return r.a.createElement(P.a,{classes:{root:e.card},key:a},r.a.createElement(F.a,null,r.a.createElement(x.a,{variant:"h5"},a),r.a.createElement(x.a,null,t&&t.content.length>21?t.content.slice(0,21)+"...":t.content),r.a.createElement(x.a,null,"Words Count: ",t.wordCount," words"),t.wordCount>=750&&r.a.createElement(x.a,null,"Time Completion: ",T(t.date,t.finishedDate))),r.a.createElement(G.a,null,r.a.createElement(Y.a,{size:"small",onClick:function(){return S(Object(C.a)({},t))}},"Open")))}))),r.a.createElement("div",{className:e.pagination},r.a.createElement(Y.a,{disabled:1===f,onClick:function(){return E(f-1)}},"< Prev"),r.a.createElement("div",null,f," of ",d),r.a.createElement(Y.a,{disabled:f===d,onClick:function(){return E(f+1)}},"Next >"))))},_="/brain-dumpster/config",ee=a(77),te=a.n(ee),ae=a(78),ne=a.n(ae),re=Object(i.a)((function(e){return{root:{height:"calc(100vh - 64px)","@media (max-width: 600px)":{height:"calc(100vh - 56px)"},overflow:"hidden"},title:{borderBottom:"2px solid lightgrey",marginTop:"18px",paddingBottom:"6px",width:"100%"},importExport:{margin:"32px 0"},imExWrapper:{margin:"24px 0"}}})),ce=function(){var e=re();return r.a.createElement("div",{className:e.root},r.a.createElement(g.a,null,r.a.createElement(x.a,{variant:"h4",className:e.title},"Configs"),r.a.createElement("div",{className:e.importExport},r.a.createElement("div",{className:e.imExWrapper},r.a.createElement(x.a,{variant:"body1"},r.a.createElement("b",null,"Import")," Database from JSON file"),r.a.createElement(Y.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(te.a,null)},"Import")),r.a.createElement("div",null,r.a.createElement(x.a,{variant:"body1"},r.a.createElement("b",null,"Export")," Database to JSON file"),r.a.createElement(Y.a,{onClick:function(){y.iterate((function(e,t){console.log(t,e)}))},variant:"contained",color:"primary",startIcon:r.a.createElement(ne.a,null)},"Export")))))},oe=a(151),le=a(152),ie=a(80),ue=a.n(ie),se=a(81),me=a.n(se),de=a(82),pe=a.n(de),he=a(83),fe=a.n(he),ge=a(157),Ee=a(138),be=a(153),ve=a(154),xe=a(155),we=Object(i.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},list:{width:250,marginTop:16}}})),Oe=function(){var e=we(),t=Object(A.g)(),a=Object(n.useState)(!1),c=Object(u.a)(a,2),o=c[0],l=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{position:"static"},r.a.createElement(le.a,null,r.a.createElement(v.a,{edge:"start",color:"inherit","aria-label":"menu",className:e.menuButton,onClick:function(){return l(!0)}},r.a.createElement(ue.a,null)),r.a.createElement(x.a,{variant:"h6",className:e.title},"Brain Dumpster"))),r.a.createElement(ge.a,{anchor:"left",open:o,onClose:function(){return l(!1)}},r.a.createElement("div",{className:e.list,role:"presentation",onClick:function(){return l(!1)},onKeyDown:function(){return l(!1)}},r.a.createElement(Ee.a,null,r.a.createElement(be.a,{button:!0,selected:"/brain-dumpster"===window.location.pathname,onClick:function(){return t.push("/brain-dumpster")}},r.a.createElement(ve.a,null,r.a.createElement(me.a,null)),r.a.createElement(xe.a,{primary:"Brain Dump"})),r.a.createElement(be.a,{button:!0,selected:"/brain-dumpster/archive"===window.location.pathname,onClick:function(){return t.push("/brain-dumpster/archive")}},r.a.createElement(ve.a,null,r.a.createElement(pe.a,null)),r.a.createElement(xe.a,{primary:"Garbage Archive"})),r.a.createElement(be.a,{button:!0,selected:window.location.pathname===_,onClick:function(){return t.push(_)}},r.a.createElement(ve.a,null,r.a.createElement(fe.a,null)),r.a.createElement(xe.a,{primary:"Configs"}))))))},ye=Object(i.a)((function(){return{root:{flexGrow:1,position:"relative",minHeight:"100vh"}}}));function je(e){var t=ye();return r.a.createElement("div",{className:t.root},r.a.createElement(Oe,null),r.a.createElement(A.d,null,r.a.createElement(A.b,{exact:!0,path:"/"},r.a.createElement(A.a,{to:"/brain-dumpster"})),r.a.createElement(A.b,{exact:!0,path:"/brain-dumpster"},r.a.createElement(R,null)),r.a.createElement(A.b,{exact:!0,path:"/brain-dumpster/archive"},r.a.createElement(X,null)),r.a.createElement(A.b,{exact:!0,path:_},r.a.createElement(ce,null))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null,r.a.createElement(je,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,a){e.exports=a(102)},96:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.4726fac9.chunk.js.map